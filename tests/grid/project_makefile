TESTS_GRID_EXECUTABLES = \
  tests/grid/options_compile.exe \
  tests/grid/options_parse.exe

TESTS_GRID_TESTS = \
  tests/grid/options_parse.tst

tests/grid_executables: $(TESTS_GRID_EXECUTABLES)

tests/grid_tests: $(TESTS_GRID_TESTS)

tests/grid_clean:
	@printf "CLEAN tests/grid\n" && rm -f \
	  $(TESTS_GRID_EXECUTABLES) \
	  $(TESTS_GRID_TESTS)

EXECUTABLES += tests/grid_executables
TESTS += tests/grid_tests
CLEAN += tests/grid_clean


TESTS_GRID_COMMON_DEPS = \
  source/grid/options.hpp \
  tests/grid/project_makefile \
  $(ENVIRONMENT_MAKEFILE) \
  Makefile

TESTS_GRID_COMPILE_COMMAND = \
  @printf "CXX $<\n" && $(CXX) $< -o $@ \
  $(CPPFLAGS) \
  $(CXXFLAGS) \
  $(LDFLAGS) \
  $(BOOST_CPPFLAGS) \
  $(BOOST_LDFLAGS) \
  $(BOOST_LIBS) \
  $(MUPARSERX_CPPFLAGS) \
  $(MUPARSERX_LDFLAGS) \
  $(MUPARSERX_LIBS) \
  $(PRETTYPRINT_CPPFLAGS) \
  $(RAPIDJSON_CPPFLAGS)

tests/grid/options_compile.exe: \
  tests/grid/options_compile.cpp \
  $(TESTS_GRID_COMMON_DEPS)
	$(TESTS_GRID_COMPILE_COMMAND)

tests/grid/options_parse.exe: \
  tests/grid/options_parse.cpp \
  $(TESTS_GRID_COMMON_DEPS)
	$(TESTS_GRID_COMPILE_COMMAND)
